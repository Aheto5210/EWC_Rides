<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EWC Rides</title>
    <meta name="theme-color" content="#0b0b0c" />
    <link rel="manifest" href="/assets/manifest.webmanifest" />
    <link rel="stylesheet" href="/assets/css/styles.css" />
  </head>
  <body>
    <main class="shell">
      <nav class="tabs" aria-label="Navigation">
        <div class="tabs__main" role="tablist" aria-label="Views">
          <button
            id="tabHome"
            class="tab"
            type="button"
            role="tab"
            aria-selected="true"
          >
            Home
          </button>
          <button
            id="tabActivity"
            class="tab"
            type="button"
            role="tab"
            aria-selected="false"
          >
            Activity
          </button>
        </div>
        <div class="tabs__actions">
          <button id="btnRegisterDriver" class="btn btn--accent btn--sm" type="button">
            Register
          </button>
          <button id="btnTheme" class="iconBtn" type="button" aria-label="Toggle theme">
            ☾
          </button>
        </div>
      </nav>

      <div id="homeView">
        <div class="hero">
          <img class="hero__logo" src="/assets/icon.svg" alt="EWC" />
          <div class="hero__title">EWC Rides</div>
          <div class="hero__sub">Choose a driver. Send a pickup request. Go.</div>
        </div>

        <section class="card" id="locationCard">
          <div class="card__title">Location</div>
          <div id="locationText" class="muted">Requesting your location…</div>
          <button
            id="btnEnableLocation"
            class="btn btn--success btn--block"
            type="button"
            hidden
          >
            Allow location
          </button>
        </section>

        <section class="card" id="roleCard">
          <div class="card__title">Choose your role</div>
          <div class="stack">
            <button
              id="btnRoleDriver"
              class="btn btn--primary btn--xl"
              type="button"
            >
              I’m a Driver
            </button>
            <button id="btnRoleRider" class="btn btn--xl" type="button">
              I Need a Ride
            </button>
          </div>
          <div id="daysHint" class="muted"></div>
        </section>

        <section class="card" id="driverCard" hidden>
          <div class="card__top">
            <div class="card__title">Driver</div>
            <button id="btnSwitchToRider" class="btn btn--ghost" type="button">
              Switch
            </button>
          </div>

          <div class="row row--between">
            <div id="driverStatePill" class="pill">Offline</div>
            <button id="btnDriverToggle" class="btn" type="button">
              Go Online
            </button>
          </div>
          <div class="muted">
            When online, riders can request you and you’ll get their pickup location.
          </div>

          <div class="sectionTitle">Pickup requests</div>
          <div id="driverRequests" class="list"></div>
          <div id="driverRequestsEmpty" class="muted">No pickup requests yet.</div>
        </section>

        <section class="card" id="riderCard" hidden>
          <div class="card__top">
            <div class="card__title">Need a ride</div>
            <button id="btnSwitchToDriver" class="btn btn--ghost" type="button">
              Switch
            </button>
          </div>

          <div id="riderActive" class="notice" hidden></div>
          <button
            id="btnCancelRequest"
            class="btn btn--danger btn--block"
            type="button"
            hidden
          >
            Cancel request
          </button>

          <div id="driversSectionTitle" class="sectionTitle">Available drivers</div>
          <div id="driversList" class="list"></div>
          <div id="driversEmpty" class="muted">No drivers online right now.</div>
        </section>
      </div>

      <div id="activityView" hidden>
        <section class="card">
          <div class="card__top">
            <div class="card__title">Activity</div>
            <button id="btnClearActivity" class="btn btn--ghost" type="button">
              Clear
            </button>
          </div>
          <div id="activityList" class="list"></div>
          <div id="activityEmpty" class="muted">No activity yet.</div>
        </section>
      </div>

      <footer class="footer">
        <button id="btnReset" class="link" type="button">
          <span class="link__label">Reload</span>
          <span class="link__spinner" aria-hidden="true"></span>
        </button>
      </footer>
    </main>

    <div id="sheet" class="sheet" hidden>
      <div id="sheetOverlay" class="sheet__overlay" role="presentation"></div>
      <div
        class="sheet__panel"
        role="dialog"
        aria-modal="true"
        aria-labelledby="sheetTitle"
      >
        <div class="sheet__header">
          <div id="sheetTitle" class="sheet__title"></div>
          <button id="sheetClose" class="iconBtn" type="button" aria-label="Close">
            ✕
          </button>
        </div>
        <div id="sheetBody" class="sheet__body"></div>
        <div id="sheetError" class="sheet__error" hidden></div>
        <div class="sheet__actions">
          <button id="sheetCancel" class="btn btn--ghost" type="button">
            Cancel
          </button>
          <button id="sheetConfirm" class="btn btn--primary" type="button">
            Continue
          </button>
        </div>
      </div>
    </div>

    <script type="module" src="/assets/js/main.js"></script>
  </body>
</html>
